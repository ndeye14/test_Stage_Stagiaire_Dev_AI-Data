<button
  mat-raised-button
  color="primary"
  class="export-button"
  (click)="exportToCSV()"
>
  <mat-icon>cloud_download</mat-icon>
  <span class="button-text">Exporter en CSV nettoyé</span>
</button>

<mat-table [dataSource]="dataSource" matSort class="table-responsive">
  <ng-container matColumnDef="product_name">
    <mat-header-cell *matHeaderCellDef mat-sort-header
      >Nom Produit</mat-header-cell
    >
    <mat-cell *matCellDef="let row">{{ row.product_name }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="price">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Prix</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.price }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="quantity">
    <mat-header-cell *matHeaderCellDef mat-sort-header
      >Quantité</mat-header-cell
    >
    <mat-cell *matCellDef="let row">{{ row.quantity }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="category">
    <mat-header-cell
      *matHeaderCellDef
      style="
        font-weight: bold;
        background-color: #f8e231;
        box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2),
          0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);
      "
      >Cat&eacute;gorie</mat-header-cell
    >
    <mat-cell
      *matCellDef="let row; let i = index"
      style="
        font-style: italic;
        background-color: #ffe082;
        box-shadow: 0 2px 4px -1px rgba(0, 0, 0, 0.2),
          0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);
      "
      >{{ row.category }}</mat-cell
    >
  </ng-container>
  <ng-container matColumnDef="total">
    <mat-header-cell *matHeaderCellDef>Total</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.total_amount }}</mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
</mat-table>

<mat-paginator [pageSize]="20"></mat-paginator>
